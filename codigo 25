function AIChatInterface() {
  const { messages, input, handleInputChange, handleSubmit, isLoading } = useChat({
    api: '/api/ai/chat',
    onFinish: (message) => {
      // Procesar cuando la IA termina de responder
      if (message.containsComponents) {
        showAddToCartButton(message.componentIds);
      }
    }
  });
  
  return (
    <div className="flex flex-col h-[600px] bg-white rounded-lg shadow-lg">
      {/* Header del chat */}
      <div className="p-4 border-b bg-primary-50">
        <h2 className="text-lg font-semibold">Asistente de PC Gaming</h2>
        <p className="text-sm text-gray-600">
          Te ayudo a armar la PC perfecta para tus necesidades
        </p>
      </div>
      
      {/* Área de mensajes */}
      <div className="flex-1 overflow-y-auto p-4 space-y-4">
        {messages.map((message, index) => (
          <ChatMessage 
            key={index} 
            message={message} 
            isUser={message.role === 'user'}
          />
        ))}
        
        {isLoading && (
          <div className="flex items-center space-x-2 text-gray-500">
            <LoadingSpinner size="sm" />
            <span>El asistente está pensando...</span>
          </div>
        )}
      </div>
      
      {/* Input y acciones */}
      <div className="p-4 border-t">
        <form onSubmit={handleSubmit} className="space-y-3">
          <textarea
            value={input}
            onChange={handleInputChange}
            placeholder="Ej: Necesito una PC para gaming de 5000 bs..."
            className="w-full p-3 border border-gray-300 rounded-lg resize-none"
            rows={3}
            disabled={isLoading}
          />
          
          <div className="flex justify-between items-center">
            <div className="text-sm text-gray-500">
              Presiona Enter para enviar
            </div>
            
            <Button type="submit" disabled={isLoading || !input.trim()}>
              Enviar Mensaje
            </Button>
          </div>
        </form>
      </div>
    </div>
  );
}
